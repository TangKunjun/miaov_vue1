<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="src/vue.js"></script>
</head>
<body>
      <div class="main">
        <h2>自定义组件</h2>

        <my-select :value="count"></my-select>

      </div>
</body>
</html>

<script>


    Vue.component('my-select', {
        data: function() {    // 主键的数据必须是函数形式 这样才能独立 如果是对象形式 会共用
            return {
                val: this.value
            };
        },
        props: ["value"],   // 接收父组件传来的值
        template: `<div>
                <h1>我是自定义组件</h1>
                {{value}}
                <button @click="add">加</button>
                <div>
                    {{val}}
                    <button @click="add2">加</button>
                </div>
            </div>
        `,
        methods: {
            add() {   // 不能直接改变父组件传来的值
                this.value++;
            },
            add2() {
                this.val++;
            }
        }
    });


    new Vue({
        el: ".main",
        data: {
            count: 0
        },
    })
</script>